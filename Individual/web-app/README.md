# Веб-приложение для управления ресурсами

## Обзор
Это веб-приложение, разработанное на PHP, предназначено для управления ресурсами с системой аутентификации пользователей и административными функциями. Приложение создано для работы на локальном сервере XAMPP и демонстрирует основные концепции веб-разработки, включая архитектуру, подобную MVC, взаимодействие с базой данных и управление сессиями. Пользователи могут регистрироваться, входить в систему, создавать и искать ресурсы, а администраторы — управлять пользователями и ресурсами.

## Функционал
- **Аутентификация пользователей**:
  - Регистрация с указанием имени, email и пароля.
  - Вход в систему с использованием email и пароля.
  - Симуляция восстановления пароля (запросы записываются в файл `reset_log.txt`).
  - Контроль доступа на основе сессий с ролями пользователя и администратора.
- **Управление ресурсами**:
  - Создание ресурсов с указанием заголовка, описания, категории, статуса и приоритета (только для авторизованных пользователей).
  - Поиск ресурсов по ключевым словам.
  - Просмотр публичных ресурсов без аутентификации.
- **Панель администратора**:
  - Управление пользователями (создание новых пользователей, просмотр списка).
  - Управление ресурсами (удаление ресурсов, просмотр всех ресурсов).
- **Интерфейс**:
  - Адаптивный дизайн с использованием Bootstrap 5.
  - Динамическая панель навигации, изменяющаяся в зависимости от статуса авторизации и роли пользователя.

## Технологии
- **Бэкенд**: PHP 8.1+, PDO для взаимодействия с MySQL.
- **Фронтенд**: Bootstrap 5, jQuery, пользовательские CSS/JS.
- **База данных**: MySQL (MariaDB в XAMPP).
- **Сервер**: Apache (через XAMPP).
- **Документация**: PHPDoc для ясности кода.

## Установка
### Требования
- Установленный XAMPP (Apache, MySQL, PHP) ([скачать здесь](https://www.apachefriends.org/)).
- Текстовый редактор (например, VS Code, Sublime Text).

### Инструкции по установке
1. **Клонирование или копирование проекта**:
   - Разместите папку `web-app` в директории `htdocs` XAMPP:
     - Windows: `C:\xampp\htdocs\web-app`
     - macOS/Linux: `/opt/lampp/htdocs/web-app`
   - Убедитесь, что структура папок сохранена:
     ```
     web-app/
     ├── config/
     │   └── database.php
     ├── controllers/
     │   ├── AuthController.php
     │   ├── ResourceController.php
     │   └── AdminController.php
     ├── models/
     │   ├── User.php
     │   └── Resource.php
     ├── views/
     │   ├── layouts/
     │   │   └── main.php
     │   ├── auth/
     │   ├── resources/
     │   └── admin/
     ├── public/
     │   ├── index.php
     │   ├── css/
     │   └── js/
     ├── .htaccess
     └── init.sql
     ```

2. **Запуск XAMPP**:
   - Откройте панель управления XAMPP.
   - Запустите модули **Apache** и **MySQL**.

3. **Настройка базы данных**:
   - Перейдите по адресу `http://localhost/phpmyadmin`.
   - Создайте базу данных с именем `web_app`.
   - Перейдите на вкладку `SQL`, вставьте содержимое файла `init.sql` и выполните его, чтобы создать таблицы (`users`, `resources`) и добавить учетную запись администратора (`admin@example.com` / `admin123`).

4. **Конфигурация подключения к базе данных**:
   - Откройте файл `web-app/config/database.php` и проверьте:
     ```php
     return [
         'host' => 'localhost',
         'dbname' => 'web_app',
         'user' => 'root',
         'password' => '',
         'charset' => 'utf8mb4'
     ];
     ```
   - Если для MySQL установлен пароль, обновите поле `'password'`.

5. **Включение модуля переписывания Apache**:
   - Откройте файл `C:\xampp\apache\conf\httpd.conf` (или `/opt/lampp/etc/httpd.conf`).
   - Убедитесь, что модуль `mod_rewrite` включен:
     ```apache
     LoadModule rewrite_module modules/mod_rewrite.so
     ```
   - Установите `AllowOverride All` в блоке `<Directory>` для `htdocs`:
     ```apache
     <Directory "C:/xampp/htdocs">
         AllowOverride All
     </Directory>
     ```
   - Перезапустите Apache.

6. **Тестирование приложения**:
   - Откройте в браузере `http://localhost/web-app/public`.
   - Войдите как администратор:
     - Email: `admin@example.com`
     - Пароль: `admin123`
   - Протестируйте функции создания ресурсов, поиска и админ-панели.

## Структура проекта
- **config/**: Конфигурация базы данных.
- **controllers/**: Логика обработки запросов (например, `AuthController` для входа/восстановления пароля).
- **models/**: Взаимодействие с базой данных (например, `User` для аутентификации).
- **views/**: Шаблоны PHP для рендеринга страниц.
- **public/**: Публично доступные файлы (точка входа: `index.php`).
- **.htaccess**: Перенаправление запросов на `public/index.php`.
- **init.sql**: Схема базы данных и начальные данные.

## Использование
- **Публичный доступ**: Просмотр ресурсов по адресу `http://localhost/web-app/public`.
- **Функции пользователя**: Войдите, чтобы создавать ресурсы или выполнять поиск.
- **Функции администратора**: Доступ к панели администратора по адресу `?route=admin/dashboard` для управления пользователями и ресурсами.
- **Восстановление пароля**: Запросите сброс пароля по адресу `?route=reset` (данные записываются в `reset_log.txt`).

## Документация
- Код задокументирован с использованием PHPDoc для всех методов в контроллерах и моделях.
- Комментарии лаконичны и описывают функционал без избыточности.
- Используются описательные имена переменных и функций (например, `$databaseConnection`, `$userModel`).
